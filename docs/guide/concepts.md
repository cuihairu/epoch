# 概念与设计

本节用于统一定义概念与整体设计思路，避免各语言实现的语义分叉。

## 核心目标
- 确定性：相同输入流，得到相同状态演进
- 可重放：输入可记录、可回放
- 低抖动：控制 P99/P999 延迟
- 可推理：清晰的执行边界与顺序

## 设计哲学
- 时间为第一公民 (Epoch-driven)
- Actor 状态封闭、顺序执行
- Channel 提供确定性消息传递
- ECS 用于 CPU 热路径优化

## 关键概念
- **Epoch**: 明确的逻辑时间区间，消息按 Epoch 分类与处理
- **Actor**: 固定线程、Epoch 内顺序执行，状态仅在边界可见
- **Channel**: 消息入队不立即执行，按 Epoch 消费
- **ECS**: 数据布局优化 CPU cache，批处理更新

## 设计思路（简版）
1. 所有输入先进入 Channel
2. 按 Epoch 收集与排序
3. Actor 顺序处理并生成输出
4. 输出在 Epoch 边界对外可见
